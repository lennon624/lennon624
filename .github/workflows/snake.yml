name: Neon Snake

on:
  workflow_dispatch:
  schedule:
    - cron: "0 0 * * *"

permissions:
  contents: write

jobs:
  generate:
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v4

      # 1ï¸âƒ£ ç”ŸæˆåŸå§‹ snake.svgï¼ˆå®˜æ–¹ã€ç¨³å®šï¼‰
      - uses: Platane/snk@v3
        with:
          github_user_name: lennon624
          github_token: ${{ secrets.GITHUB_TOKEN }}
          output_branch: output
          outputs: |
            snake.svg

     
      - name: Make it pink neon ğŸ’—
        run: |
          cd output

          cp snake.svg neon-snake.svg

          sed -i \
            -e 's/#ebedf0/#2a123f/g' \
            -e 's/#9be9a8/#ff77c6/g' \
            -e 's/#40c463/#ff4fd8/g' \
            -e 's/#30a14e/#ff2ecb/g' \
            -e 's/#216e39/#ff1493/g' \
            -e 's/#ffffff/#0b0014/g' \
            neon-snake.svg

      # 3ï¸âƒ£ æäº¤ neon ç‰ˆæœ¬
      - name: Commit neon snake
        uses: EndBug/add-and-commit@v9
        with:
          message: "chore: add pink neon snake ğŸ’—"
          add: "neon-snake.svg"
          cwd: "output"
